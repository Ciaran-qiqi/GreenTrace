# GreenTrace i18n å›½é™…åŒ–å®ç°æŒ‡å—

## ğŸŒ ç³»ç»Ÿæ¦‚è¿°

GreenTraceé¡¹ç›®ç°å·²é›†æˆäº†å®Œæ•´çš„i18nï¼ˆå›½é™…åŒ–ï¼‰ç³»ç»Ÿï¼Œæ”¯æŒä¸­è‹±æ–‡åŒè¯­åˆ‡æ¢ï¼Œæä¾›äº†å¯é ã€ç¾è§‚çš„å¤šè¯­è¨€ç”¨æˆ·ä½“éªŒã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸš€ åŠ¨æ€è¯­è¨€åˆ‡æ¢** - æ— éœ€åˆ·æ–°é¡µé¢å³å¯åˆ‡æ¢è¯­è¨€
- **ğŸ’¾ æŒä¹…åŒ–å­˜å‚¨** - è¯­è¨€åå¥½è‡ªåŠ¨ä¿å­˜åˆ°localStorage
- **ğŸ”„ æ™ºèƒ½å›é€€** - ç¿»è¯‘ç¼ºå¤±æ—¶æ™ºèƒ½å›é€€åˆ°é»˜è®¤è¯­è¨€
- **âš¡ æ€§èƒ½ä¼˜åŒ–** - ç¿»è¯‘æ–‡ä»¶ç¼“å­˜å’Œé¢„åŠ è½½æœºåˆ¶
- **ğŸ¨ ç¾è§‚ç•Œé¢** - æä¾›ä¸‹æ‹‰èœå•å’ŒæŒ‰é’®ç»„ä¸¤ç§è¯­è¨€åˆ‡æ¢å™¨æ ·å¼
- **ğŸ“± å“åº”å¼è®¾è®¡** - æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯éƒ½æœ‰é€‚é…çš„è¯­è¨€åˆ‡æ¢å™¨

## ğŸ“ æ–‡ä»¶æ¶æ„

```
src/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ i18n.ts                 # i18næ ¸å¿ƒé…ç½®å’Œå·¥å…·å‡½æ•°
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useI18n.tsx            # React Hookå’ŒContext Provider
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ LanguageToggle.tsx     # è¯­è¨€åˆ‡æ¢ç»„ä»¶
â”‚   â””â”€â”€ Navigation.tsx         # å·²é›†æˆi18nçš„å¯¼èˆªç»„ä»¶
â”œâ”€â”€ app/
â”‚   â””â”€â”€ layout.tsx             # æ ¹å¸ƒå±€(å·²é›†æˆI18nProvider)
â””â”€â”€ messages/
    â”œâ”€â”€ zh.json                # ä¸­æ–‡ç¿»è¯‘æ–‡ä»¶
    â””â”€â”€ en.json                # è‹±æ–‡ç¿»è¯‘æ–‡ä»¶
```

## ğŸ› ï¸ ç³»ç»Ÿé…ç½®

### æ”¯æŒçš„è¯­è¨€
- **ä¸­æ–‡ (zh)** - é»˜è®¤è¯­è¨€ ğŸ‡¨ğŸ‡³
- **è‹±æ–‡ (en)** - å›½é™…åŒ–è¯­è¨€ ğŸ‡ºğŸ‡¸

### é…ç½®é€‰é¡¹
```typescript
export const I18N_CONFIG = {
  defaultLanguage: 'zh' as Language,     // é»˜è®¤è¯­è¨€
  supportedLanguages: ['zh', 'en'],      // æ”¯æŒçš„è¯­è¨€åˆ—è¡¨
  storageKey: 'greentrace-language',     // localStorageå­˜å‚¨é”®
  fallbackLanguage: 'zh' as Language,   // å›é€€è¯­è¨€
};
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. åŸºç¡€ç¿»è¯‘ä½¿ç”¨

```tsx
import { useTranslation } from '@/hooks/useI18n';

export const MyComponent = () => {
  const { t } = useTranslation();
  
  return (
    <div>
      <h1>{t('navigation.home', 'ğŸ  é¦–é¡µ')}</h1>
      <p>{t('common.loading', 'åŠ è½½ä¸­...')}</p>
    </div>
  );
};
```

### 2. è¯­è¨€åˆ‡æ¢ç»„ä»¶

```tsx
import { LanguageToggle } from '@/components/LanguageToggle';

// ä¸‹æ‹‰èœå•æ ·å¼
<LanguageToggle 
  style="dropdown" 
  size="md" 
  showFlag={true} 
  showName={true}
/>

// æŒ‰é’®ç»„æ ·å¼
<LanguageToggle 
  style="buttons" 
  size="sm" 
  showFlag={true} 
  showName={false}
/>
```

### 3. å‚æ•°åŒ–ç¿»è¯‘

```tsx
const { t } = useTranslation();

// ç¿»è¯‘æ–‡ä»¶ä¸­: "welcome": "æ¬¢è¿ {{name}}ï¼Œæ‚¨æœ‰ {{count}} æ¡æ¶ˆæ¯"
const message = t('welcome', 'æ¬¢è¿ç”¨æˆ·', { 
  name: 'John', 
  count: 5 
});
// ç»“æœ: "æ¬¢è¿ Johnï¼Œæ‚¨æœ‰ 5 æ¡æ¶ˆæ¯"
```

### 4. åµŒå¥—é”®è®¿é—®

```tsx
const { t } = useTranslation();

// è®¿é—®åµŒå¥—çš„ç¿»è¯‘é”®
const homeTitle = t('navigation.home', 'é¦–é¡µ');           // "ğŸ  é¦–é¡µ"
const adminRole = t('navigation.roles.admin', 'ç®¡ç†å‘˜');  // "ç®¡ç†å‘˜"
```

## ğŸ“ ç¿»è¯‘æ–‡ä»¶ç»“æ„

### ä¸­æ–‡ç¿»è¯‘ (`messages/zh.json`)

```json
{
  "common": {
    "loading": "åŠ è½½ä¸­...",
    "error": "é”™è¯¯",
    "success": "æˆåŠŸ"
  },
  "navigation": {
    "home": "ğŸ  é¦–é¡µ",
    "carbonMarket": "ğŸ“ˆ ç¢³å¸å¸‚åœº",
    "roles": {
      "admin": "ç®¡ç†å‘˜",
      "auditor": "å®¡è®¡å‘˜"
    }
  }
}
```

### è‹±æ–‡ç¿»è¯‘ (`messages/en.json`)

```json
{
  "common": {
    "loading": "Loading...",
    "error": "Error", 
    "success": "Success"
  },
  "navigation": {
    "home": "ğŸ  Home",
    "carbonMarket": "ğŸ“ˆ Carbon Market",
    "roles": {
      "admin": "Administrator",
      "auditor": "Auditor"
    }
  }
}
```

## ğŸ¯ å®é™…åº”ç”¨ç¤ºä¾‹

### Navigationç»„ä»¶é›†æˆ

å¯¼èˆªç»„ä»¶å·²å®Œå…¨é›†æˆi18nåŠŸèƒ½ï¼š

```tsx
// åŸæ¥çš„ç¡¬ç¼–ç ä¸­æ–‡
<span>ğŸ  é¦–é¡µ</span>
<span>ğŸ“ˆ ç¢³å¸å¸‚åœº</span>
<span>ğŸ” å®¡è®¡ä¸­å¿ƒ</span>

// ç°åœ¨çš„i18nç‰ˆæœ¬
<span>{t('navigation.home', 'ğŸ  é¦–é¡µ')}</span>
<span>{t('navigation.carbonMarket', 'ğŸ“ˆ ç¢³å¸å¸‚åœº')}</span>
<span>{t('navigation.auditCenter', 'ğŸ” å®¡è®¡ä¸­å¿ƒ')}</span>
```

### è·¯ç”±æ˜ å°„ç¡®è®¤

| ä¸­æ–‡æ˜¾ç¤º | è‹±æ–‡æ˜¾ç¤º | è·¯ç”±è·¯å¾„ | ç¿»è¯‘é”® |
|---------|---------|---------|--------|
| ğŸ  é¦–é¡µ | ğŸ  Home | `/` | `navigation.home` |
| ğŸ“ˆ ç¢³å¸å¸‚åœº | ğŸ“ˆ Carbon Market | `/carbon-market` | `navigation.carbonMarket` |
| ğŸŒ± NFTåˆ›å»º | ğŸŒ± NFT Creation | `/created` | `navigation.created` |
| ğŸ›’ NFTå¸‚åœº | ğŸ›’ NFT Market | `/market` | `navigation.nftMarket` |
| ğŸ’¼ æˆ‘çš„èµ„äº§ | ğŸ’¼ My Assets | `/assets` | `navigation.assets` |
| ğŸª æˆ‘çš„æŒ‚å• | ğŸª My Listings | `/my-listings` | `navigation.myListings` |
| ğŸ’§ æµåŠ¨æ€§æ±  | ğŸ’§ Liquidity Pool | `/liquidity` | `navigation.liquidityPool` |
| ğŸ”„ NFTå…‘æ¢ | ğŸ”„ NFT Exchange | `/exchange` | `navigation.nftExchange` |
| ğŸ” å®¡è®¡ä¸­å¿ƒ | ğŸ” Audit Center | `/audit` | `navigation.auditCenter` |
| âš™ï¸ ç®¡ç†ä¸­å¿ƒ | âš™ï¸ Admin Center | `/admin` | `navigation.adminCenter` |

## ğŸ¨ è¯­è¨€åˆ‡æ¢å™¨æ ·å¼

### ä¸‹æ‹‰èœå•æ ·å¼
- **ä½ç½®**: æ¡Œé¢ç«¯å¯¼èˆªæ å³ä¾§
- **æ ·å¼**: ç™½è‰²åŠé€æ˜èƒŒæ™¯ï¼Œæ¯›ç»ç’ƒæ•ˆæœ
- **äº¤äº’**: ç‚¹å‡»å±•å¼€ä¸‹æ‹‰èœå•ï¼Œæ”¯æŒé”®ç›˜å¯¼èˆª
- **æŒ‡ç¤ºå™¨**: å½“å‰è¯­è¨€é«˜äº®æ˜¾ç¤ºï¼ŒåŠ è½½æ—¶æ˜¾ç¤ºåŠ¨ç”»

### æŒ‰é’®ç»„æ ·å¼
- **ä½ç½®**: ç§»åŠ¨ç«¯å¯¼èˆªèœå•é¡¶éƒ¨
- **æ ·å¼**: åˆ†æ®µæ§åˆ¶å™¨æ ·å¼ï¼Œå½“å‰è¯­è¨€èƒŒæ™¯é«˜äº®
- **äº¤äº’**: ç›´æ¥ç‚¹å‡»åˆ‡æ¢ï¼Œæ— ä¸‹æ‹‰èœå•
- **æŒ‡ç¤ºå™¨**: å½“å‰è¯­è¨€ç»¿è‰²èƒŒæ™¯ï¼ŒåŠ è½½æ—¶æ˜¾ç¤ºæ—‹è½¬åŠ¨ç”»

## ğŸ” è°ƒè¯•å’Œç›‘æ§

### æ§åˆ¶å°æ—¥å¿—
ç³»ç»Ÿä¼šè¾“å‡ºè¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯ï¼š

```
ğŸŒ å¼€å§‹åŠ è½½è¯­è¨€: en
âœ… ç¿»è¯‘æ–‡ä»¶åŠ è½½æˆåŠŸ: en
ğŸ”„ è¯­è¨€åˆ‡æ¢: zh â†’ en
ğŸŒ å½“å‰è¯­è¨€: en, ç¿»è¯‘æ•°æ®å¯ç”¨: true
```

### ç¼“å­˜ä¿¡æ¯æŸ¥çœ‹
```typescript
import { getCacheInfo } from '@/lib/i18n';

console.log(getCacheInfo());
// è¾“å‡º: { cacheSize: 2, cachedLanguages: ['zh', 'en'], supportedLanguages: ['zh', 'en'] }
```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§

1. **ç¿»è¯‘æ–‡ä»¶ç¼“å­˜** - åŠ è½½è¿‡çš„ç¿»è¯‘æ–‡ä»¶ä¼šç¼“å­˜åœ¨å†…å­˜ä¸­
2. **é¢„åŠ è½½æœºåˆ¶** - å¯é€‰æ‹©åœ¨åº”ç”¨å¯åŠ¨æ—¶é¢„åŠ è½½æ‰€æœ‰è¯­è¨€
3. **åŠ¨æ€å¯¼å…¥** - ç¿»è¯‘æ–‡ä»¶æŒ‰éœ€åŠ è½½ï¼Œå‡å°‘åˆå§‹åŒ…å¤§å°
4. **æ™ºèƒ½å›é€€** - ç¿»è¯‘ç¼ºå¤±æ—¶è‡ªåŠ¨ä½¿ç”¨å›é€€è¯­è¨€æˆ–å›é€€æ–‡æœ¬
5. **æœ¬åœ°å­˜å‚¨** - ç”¨æˆ·è¯­è¨€åå¥½æŒä¹…åŒ–ï¼Œä¸‹æ¬¡è®¿é—®æ—¶ä¿æŒè®¾ç½®

## ğŸ“± ç§»åŠ¨ç«¯é€‚é…

- **å“åº”å¼è¯­è¨€åˆ‡æ¢å™¨** - æ¡Œé¢ç«¯æ˜¾ç¤ºä¸‹æ‹‰èœå•ï¼Œç§»åŠ¨ç«¯æ˜¾ç¤ºæŒ‰é’®ç»„
- **è§¦æ§ä¼˜åŒ–** - ç§»åŠ¨ç«¯æŒ‰é’®æ›´å¤§ï¼Œæ˜“äºè§¦æ§æ“ä½œ
- **å¸ƒå±€é€‚é…** - ç§»åŠ¨ç«¯å¯¼èˆªèœå•ä¸­é›†æˆè¯­è¨€åˆ‡æ¢å™¨

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°è¯­è¨€

1. åœ¨ `messages/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ç¿»è¯‘æ–‡ä»¶ (å¦‚ `ja.json`)
2. æ›´æ–° `I18N_CONFIG.supportedLanguages` æ•°ç»„
3. åœ¨ `LANGUAGE_CONFIG` ä¸­æ·»åŠ è¯­è¨€æ˜¾ç¤ºé…ç½®
4. æ›´æ–° `Language` ç±»å‹å®šä¹‰

### æ·»åŠ æ–°ç¿»è¯‘é”®

1. åœ¨æ‰€æœ‰è¯­è¨€çš„ç¿»è¯‘æ–‡ä»¶ä¸­æ·»åŠ ç›¸åŒçš„é”®
2. ç¡®ä¿é”®åä½¿ç”¨åµŒå¥—ç»“æ„ç»„ç»‡
3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ `t('new.key', 'é»˜è®¤æ–‡æœ¬')` è°ƒç”¨

### è‡ªå®šä¹‰è¯­è¨€åˆ‡æ¢å™¨

```tsx
import { useLanguageSwitch } from '@/hooks/useI18n';

const CustomLanguageToggle = () => {
  const { currentLanguage, changeLanguage, isChanging } = useLanguageSwitch();
  
  return (
    <button onClick={() => changeLanguage(currentLanguage === 'zh' ? 'en' : 'zh')}>
      {currentLanguage === 'zh' ? 'ä¸­æ–‡' : 'English'}
    </button>
  );
};
```

## âœ… æœ€ä½³å®è·µ

1. **æ€»æ˜¯æä¾›å›é€€æ–‡æœ¬** - `t('key', 'é»˜è®¤æ–‡æœ¬')`
2. **ä½¿ç”¨æœ‰æ„ä¹‰çš„é”®å** - `navigation.home` è€Œä¸æ˜¯ `nav1`
3. **ä¿æŒç¿»è¯‘æ–‡ä»¶åŒæ­¥** - æ‰€æœ‰è¯­è¨€æ–‡ä»¶åº”åŒ…å«ç›¸åŒçš„é”®
4. **é¿å…åœ¨ç¿»è¯‘ä¸­ä½¿ç”¨HTML** - ä½¿ç”¨å‚æ•°åŒ–æ›¿æ¢ä»£æ›¿
5. **æµ‹è¯•æ‰€æœ‰è¯­è¨€** - ç¡®ä¿UIåœ¨ä¸åŒè¯­è¨€ä¸‹éƒ½èƒ½æ­£å¸¸æ˜¾ç¤º
6. **è€ƒè™‘æ–‡æœ¬é•¿åº¦å·®å¼‚** - ä¸åŒè¯­è¨€çš„æ–‡æœ¬é•¿åº¦å¯èƒ½å·®å¼‚å¾ˆå¤§

## ğŸ¯ è¿ç§»ç°æœ‰ä»£ç 

å°†ç°æœ‰çš„ç¡¬ç¼–ç ä¸­æ–‡æ–‡æœ¬è¿ç§»åˆ°i18nç³»ç»Ÿï¼š

```tsx
// åŸä»£ç 
<h1>ç¢³å¸äº¤æ˜“ä¸­å¿ƒ</h1>
<button>ç«‹å³è´­ä¹°</button>

// è¿ç§»å
import { useTranslation } from '@/hooks/useI18n';

const { t } = useTranslation();

<h1>{t('carbon.tradingCenter', 'ç¢³å¸äº¤æ˜“ä¸­å¿ƒ')}</h1>
<button>{t('market.buyNow', 'ç«‹å³è´­ä¹°')}</button>
```

## ğŸ‰ æ€»ç»“

GreenTraceçš„i18nç³»ç»Ÿæä¾›äº†ï¼š
- **å®Œæ•´çš„å¤šè¯­è¨€æ”¯æŒ**
- **ç¾è§‚çš„ç”¨æˆ·ç•Œé¢**
- **ä¼˜ç§€çš„å¼€å‘ä½“éªŒ**
- **é«˜æ€§èƒ½çš„è¿è¡Œæ•ˆç‡**
- **æ˜“äºç»´æŠ¤å’Œæ‰©å±•**

ç°åœ¨æ‚¨çš„é¡¹ç›®å·²ç»å…·å¤‡äº†å›½é™…åŒ–çš„èƒ½åŠ›ï¼Œå¯ä»¥è½»æ¾åœ°ä¸ºå…¨çƒç”¨æˆ·æä¾›æœ¬åœ°åŒ–çš„ä½“éªŒï¼ğŸŒâœ¨ 
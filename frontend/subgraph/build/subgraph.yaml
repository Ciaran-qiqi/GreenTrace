specVersion: 0.0.5
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum
    name: GreenTrace
    network: sepolia
    source:
      address: "0x11e6b5Aeff2FaeFe489776aDa627B2C621ee8673"
      abi: GreenTrace
      startBlock: 8576685
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - MintRequest
        - Audit
        - ExchangeRequest
        - Statistics
      abis:
        - name: GreenTrace
          file: GreenTrace\abis\GreenTrace.json
      eventHandlers:
        - event: MintRequested(indexed uint256,indexed address,string,string,uint256,string,uint256)
          handler: handleMintRequested
        - event: AuditSubmitted(indexed uint256,indexed address,uint256,uint8)
          handler: handleAuditSubmitted
        - event: AuditRejected(indexed uint256,indexed address,string)
          handler: handleAuditRejected
        - event: NFTMintedAfterAudit(indexed uint256,indexed address,string,uint256)
          handler: handleNFTMintedAfterAudit
        - event: ExchangeRequested(indexed uint256,indexed address,uint256,uint256)
          handler: handleExchangeRequested
        - event: NFTExchanged(indexed uint256,indexed address,uint256)
          handler: handleNFTExchanged
      file: GreenTrace\GreenTrace.wasm
  - kind: ethereum
    name: CarbonToken
    network: sepolia
    source:
      address: "0x808b73A3A1D97382acF32d4F4F834e799Aa08198"
      abi: CarbonToken
      startBlock: 8576685
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - CarbonToken
        - CarbonTokenTransfer
        - Statistics
      abis:
        - name: CarbonToken
          file: CarbonToken\abis\CarbonToken.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleCarbonTokenTransfer
        - event: TokensMinted(indexed address,uint256,uint256)
          handler: handleCarbonTokenMint
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleCarbonTokenApproval
      file: GreenTrace\GreenTrace.wasm
  - kind: ethereum
    name: CarbonPriceOracle
    network: sepolia
    source:
      address: "0xE3E2262fb8C00374b1E73F34AE34df2cE36F03FA"
      abi: CarbonPriceOracle
      startBlock: 8576685
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - CarbonPriceOracle
        - CarbonPriceUpdate
        - Statistics
      abis:
        - name: CarbonPriceOracle
          file: CarbonPriceOracle\abis\CarbonPriceOracle.json
      eventHandlers:
        - event: PriceUpdated(uint256,uint256,uint256)
          handler: handlePriceUpdate
        - event: UsdPriceCalculated(uint256)
          handler: handleUsdPriceCalculated
      file: GreenTrace\GreenTrace.wasm
  - kind: ethereum
    name: GreenTalesMarket
    network: sepolia
    source:
      address: "0x82c59961a858f92816d61be7Ec28541E51d37224"
      abi: GreenTalesMarket
      startBlock: 8576685
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - GreenTalesMarket
        - MarketTrade
        - Statistics
      abis:
        - name: GreenTalesMarket
          file: GreenTalesMarket\abis\GreenTalesMarket.json
      eventHandlers:
        - event: NFTListed(indexed uint256,indexed address,uint256,uint256)
          handler: handleNFTListed
        - event: NFTSold(indexed uint256,indexed address,indexed
            address,uint256,uint256,uint256,uint256)
          handler: handleNFTSold
        - event: ListingCancelled(indexed uint256,indexed address,uint256)
          handler: handleNFTDelisted
      file: GreenTrace\GreenTrace.wasm
  - kind: ethereum
    name: GreenTalesLiquidityPool
    network: sepolia
    source:
      address: "0xCfBE2B410E5707b35231B9237bD7E523403Db889"
      abi: GreenTalesLiquidityPool
      startBlock: 8576685
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - GreenTalesLiquidityPool
        - LiquidityPoolEvent
        - Statistics
      abis:
        - name: GreenTalesLiquidityPool
          file: GreenTalesLiquidityPool\abis\GreenTalesLiquidityPool.json
      eventHandlers:
        - event: LiquidityAdded(indexed address,uint256,uint256,uint256)
          handler: handleLiquidityAdded
        - event: LiquidityRemoved(indexed address,uint256,uint256,uint256)
          handler: handleLiquidityRemoved
        - event: TokensSwapped(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleSwap
      file: GreenTrace\GreenTrace.wasm
  - kind: ethereum
    name: CarbonUSDTMarket
    network: sepolia
    source:
      address: "0x15Dfc335131191e0767036cD611D22a8b9b5Ed43"
      abi: CarbonUSDTMarket
      startBlock: 8576685
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - CarbonUSDTMarket
        - USDTMarketTrade
        - Statistics
      abis:
        - name: CarbonUSDTMarket
          file: CarbonUSDTMarket\abis\CarbonUSDTMarket.json
      eventHandlers:
        - event: MarketOrderExecuted(indexed address,uint8,uint256,uint256,uint256)
          handler: handleMarketOrderExecuted
        - event: OrderFilled(indexed uint256,indexed address,indexed
            address,uint256,uint256,uint256,uint256)
          handler: handleOrderFilled
      file: GreenTrace\GreenTrace.wasm
templates:
  - kind: ethereum
    name: GreenTalesNFT
    network: sepolia
    source:
      abi: GreenTalesNFT
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - MintRequest
      abis:
        - name: GreenTalesNFT
          file: GreenTalesNFT\abis\GreenTalesNFT.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleNFTTransfer
      file: GreenTrace\GreenTrace.wasm
